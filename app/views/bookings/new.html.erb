
<% flash.each do |type, msg| %>
  <div class="alert alert-danger text-center">
    <%= msg %>
  </div>
<% end %>
  
  <div class="text-center my-4">
    <h1 class="bubble-bit-font">Book your flight</h1>
  </div> 

<div class="card d-flex flex-column mx-auto mt-2" style="width: 57rem">
  <div class="card-body mx-auto">
    <div class="mb-4">
      From: <%= @flight.departure_airport.location %> |
      To: <%= @flight.arrival_airport.location %> |
      Date: <%= @flight.departure_date.strftime("%A, %B %d") %> |
      Time: <%= @flight.departure_time %> |
      Flight Number : <%= @flight.flight_number %>
    </div>
    <%= form_with model: @booking, data: { turbo: false }, url: bookings_path do |form| %>
      <%= form.fields_for :passengers do |passenger_form| %>
        <div class="input-group">
          <%= passenger_form.text_field :name, class: "form-control", placeholder: "Passenger Name" %>
          <%= passenger_form.email_field :email, class: "form-control", placeholder: "Passenger Email" %>
        </div>
        <br>
      <% end %>
      <%= form.hidden_field :flight_id, value: @flight.id %>
      <%= form.hidden_field :number_of_passengers, value: @number_of_passengers %>
      <div class="d-grid">
        <%= form.submit "Submit", class: "btn btn-success" %>
      </div>
    <% end %>
  </div>
</div>
